(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{bIxI:function(i,t,e){"use strict";e.r(t),e.d(t,"CourseDetailModule",(function(){return b}));var o=e("ofXK"),s=e("tyNb"),u=e("nYR2"),r=e("fXoL"),n=e("nbwD");const l=function(){return["/home"]};function c(i,t){if(1&i){const i=r.Qb();r.Nb(0),r.Pb(1,"div",2),r.Kb(2,"img",3),r.Ob(),r.Nb(3),r.Pb(4,"div",4),r.nc(5," Untuk Melihat Materi, "),r.Kb(6,"br"),r.nc(7," Ikuti Quiz Berikut ini "),r.Ob(),r.Pb(8,"div",5),r.Pb(9,"div",6),r.Pb(10,"div",7),r.Pb(11,"button",8),r.Wb("click",(function(){return r.ic(i),r.Yb().createEnroll()})),r.nc(12,"Ikuti Quiz"),r.Ob(),r.Ob(),r.Pb(13,"div",9),r.Pb(14,"button",10),r.nc(15," Home "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Mb(),r.Mb()}2&i&&(r.xb(14),r.bc("routerLink",r.dc(1,l)))}const d=[{path:":course_uuid",children:[{path:"",component:(()=>{class i{constructor(i,t,e,o){this._activatedRoute=i,this._location=t,this._router=e,this._courseService=o,this.enroll_sessions=[],this.is_enrolled=!1}ngOnInit(){this.course_uuid=this._activatedRoute.snapshot.paramMap.get("course_uuid"),this.getCourse()}getCourse(){this._courseService.getCourse(this.course_uuid).pipe(Object(u.a)(()=>{})).subscribe(i=>{var t,e,o,s,u;this.course=i,this.is_enrolled=null===(t=this.course)||void 0===t?void 0:t.is_enrolled,this.course_quiz=null===(e=null==this?void 0:this.course)||void 0===e?void 0:e.course_quiz,this.quiz_survey=this.course_quiz.find(i=>"survey"===i.position),this.quiz_evaluate=this.course_quiz.find(i=>"evaluate"===i.position),(null===(o=this.course)||void 0===o?void 0:o.last_simulation_uuid)&&this.getSimulation(null===(s=this.course)||void 0===s?void 0:s.last_simulation_uuid),this.is_enrolled&&this.getEnroll(null===(u=this.course)||void 0===u?void 0:u.enroll_uuid)},i=>{})}getSimulation(i){this._courseService.getSimulation(i).pipe(Object(u.a)(()=>{})).subscribe(i=>{var t,e,o,s,u,r,n;this.simulation=i,this.simulation_quiz_survey=null===(t=this.simulation)||void 0===t?void 0:t.simulation_quiz.find(i=>"survey"==i.position),(null===(e=this.simulation)||void 0===e?void 0:e.is_chapter_done)&&this._router.navigate(["simulation",null===(o=this.course)||void 0===o?void 0:o.last_simulation_uuid,"evaluate"],{replaceUrl:!0}),this.simulation_quiz_survey&&!(null===(s=this.simulation)||void 0===s?void 0:s.is_chapter_done)&&((null===(u=this.simulation_quiz_survey)||void 0===u?void 0:u.is_done)?this._router.navigate(["simulation",null===(r=this.course)||void 0===r?void 0:r.last_simulation_uuid,"course"],{replaceUrl:!0}):this._router.navigate(["simulation",null===(n=this.course)||void 0===n?void 0:n.last_simulation_uuid,"survey"],{replaceUrl:!0}))},i=>{})}createEnroll(){var i,t,e,o={course:null===(i=this.course)||void 0===i?void 0:i.uuid,enroll_session:[{course_session:null===(e=null===(t=this.course)||void 0===t?void 0:t.course_session[0])||void 0===e?void 0:e.uuid}]};this._courseService.createEnroll(o).pipe(Object(u.a)(()=>{})).subscribe(i=>{var t,e,o;this.enroll=i,this._router.navigate(["simulation",null===(o=null===(e=null===(t=this.enroll)||void 0===t?void 0:t.enroll_session[0])||void 0===e?void 0:e.simulation[0])||void 0===o?void 0:o.uuid,"survey"])},i=>{})}getEnroll(i){this._courseService.getEnroll(i).pipe(Object(u.a)(()=>{})).subscribe(i=>{var t;this.enroll=i,this.enroll_sessions=null===(t=this.enroll)||void 0===t?void 0:t.enroll_session},i=>{})}back(){this._location.back()}}return i.\u0275fac=function(t){return new(t||i)(r.Jb(s.a),r.Jb(o.g),r.Jb(s.b),r.Jb(n.a))},i.\u0275cmp=r.Db({type:i,selectors:[["app-course-detail"]],decls:2,vars:1,consts:[[1,"p-6","bg-white","pb-8","md:container","mx-auto"],[4,"ngIf"],[1,"text-center","mb-10","mt-10"],["src","assets/images/quiz-survey.svg",1,"m-auto"],[1,"text-center","text-xl","mb-10","text-dark-green"],[1,"w-full","lg:w-1/2","mx-auto"],[1,"grid","gap-x-12","gap-y-3","lg:grid-cols-2"],[1,"order-first","lg:order-last"],["type","button",1,"rounded","rounded-xl","choice-nav","shadow-md","rounded-full","bg-dark-green","text-white","font-bold","w-full","mt-4","text-center","pt-3","pb-3",3,"click"],[1,"order-last","lg:order-first"],["type","submit",1,"rounded-full","choice-nav","shadow-sm","rounded-xl","border","border-gray-400","w-full","font-bold","text-center","text-gray-500","pt-3","pb-3","mt-4",3,"routerLink"]],template:function(i,t){1&i&&(r.Pb(0,"div",0),r.mc(1,c,16,2,"ng-container",1),r.Ob()),2&i&&(r.xb(1),r.bc("ngIf",t.course))},directives:[o.k,s.c],styles:[""]}),i})()}]}];let a=(()=>{class i{}return i.\u0275mod=r.Hb({type:i}),i.\u0275inj=r.Gb({factory:function(t){return new(t||i)},imports:[[s.d.forChild(d)],s.d]}),i})();var v=e("d2mR");let b=(()=>{class i{}return i.\u0275mod=r.Hb({type:i}),i.\u0275inj=r.Gb({factory:function(t){return new(t||i)},imports:[[o.b,a,v.a]]}),i})()}}]);