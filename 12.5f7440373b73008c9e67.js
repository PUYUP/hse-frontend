(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{bIxI:function(i,t,e){"use strict";e.r(t),e.d(t,"CourseDetailModule",(function(){return b}));var o=e("ofXK"),s=e("tyNb"),u=e("nYR2"),n=e("fXoL"),r=e("nbwD");function l(i,t){if(1&i){const i=n.Qb();n.Nb(0),n.Pb(1,"div",3),n.Kb(2,"img",4),n.Ob(),n.Nb(3),n.Pb(4,"div",5),n.nc(5," Untuk Melihat Materi, "),n.Kb(6,"br"),n.nc(7," Ikuti Quiz Berikut ini "),n.Ob(),n.Pb(8,"button",6),n.Wb("click",(function(){return n.ic(i),n.Yb().createEnroll()})),n.nc(9,"Ikuti Quiz"),n.Ob(),n.Mb(),n.Mb()}}const c=function(){return["/home"]},a=[{path:":course_uuid",children:[{path:"",component:(()=>{class i{constructor(i,t,e,o){this._activatedRoute=i,this._location=t,this._router=e,this._courseService=o,this.enroll_sessions=[],this.is_enrolled=!1}ngOnInit(){this.course_uuid=this._activatedRoute.snapshot.paramMap.get("course_uuid"),this.getCourse()}getCourse(){this._courseService.getCourse(this.course_uuid).pipe(Object(u.a)(()=>{})).subscribe(i=>{var t,e,o,s,u;this.course=i,this.is_enrolled=null===(t=this.course)||void 0===t?void 0:t.is_enrolled,this.course_quiz=null===(e=null==this?void 0:this.course)||void 0===e?void 0:e.course_quiz,this.quiz_survey=this.course_quiz.find(i=>"survey"===i.position),this.quiz_evaluate=this.course_quiz.find(i=>"evaluate"===i.position),(null===(o=this.course)||void 0===o?void 0:o.last_simulation_uuid)&&this.getSimulation(null===(s=this.course)||void 0===s?void 0:s.last_simulation_uuid),this.is_enrolled&&this.getEnroll(null===(u=this.course)||void 0===u?void 0:u.enroll_uuid)},i=>{})}getSimulation(i){this._courseService.getSimulation(i).pipe(Object(u.a)(()=>{})).subscribe(i=>{var t,e,o,s,u,n,r;this.simulation=i,this.simulation_quiz_survey=null===(t=this.simulation)||void 0===t?void 0:t.simulation_quiz.find(i=>"survey"==i.position),(null===(e=this.simulation)||void 0===e?void 0:e.is_chapter_done)&&this._router.navigate(["simulation",null===(o=this.course)||void 0===o?void 0:o.last_simulation_uuid,"evaluate"],{replaceUrl:!0}),this.simulation_quiz_survey&&!(null===(s=this.simulation)||void 0===s?void 0:s.is_chapter_done)&&((null===(u=this.simulation_quiz_survey)||void 0===u?void 0:u.is_done)?this._router.navigate(["simulation",null===(n=this.course)||void 0===n?void 0:n.last_simulation_uuid,"course"],{replaceUrl:!0}):this._router.navigate(["simulation",null===(r=this.course)||void 0===r?void 0:r.last_simulation_uuid,"survey"],{replaceUrl:!0}))},i=>{})}createEnroll(){var i,t,e,o={course:null===(i=this.course)||void 0===i?void 0:i.uuid,enroll_session:[{course_session:null===(e=null===(t=this.course)||void 0===t?void 0:t.course_session[0])||void 0===e?void 0:e.uuid}]};this._courseService.createEnroll(o).pipe(Object(u.a)(()=>{})).subscribe(i=>{var t,e,o;this.enroll=i,this._router.navigate(["simulation",null===(o=null===(e=null===(t=this.enroll)||void 0===t?void 0:t.enroll_session[0])||void 0===e?void 0:e.simulation[0])||void 0===o?void 0:o.uuid,"survey"])},i=>{})}getEnroll(i){this._courseService.getEnroll(i).pipe(Object(u.a)(()=>{})).subscribe(i=>{var t;this.enroll=i,this.enroll_sessions=null===(t=this.enroll)||void 0===t?void 0:t.enroll_session},i=>{})}back(){this._location.back()}}return i.\u0275fac=function(t){return new(t||i)(n.Jb(s.a),n.Jb(o.g),n.Jb(s.b),n.Jb(r.a))},i.\u0275cmp=n.Db({type:i,selectors:[["app-course-detail"]],decls:4,vars:3,consts:[[1,"p-6","bg-white","pb-8","md:container","mx-auto"],[4,"ngIf"],["type","submit",1,"rounded-full","shadow-sm","rounded-xl","border","border-gray-400","w-full","mt-8","font-bold","text-center","text-gray-500","pt-3","pb-3","mt-4",3,"routerLink"],[1,"text-center","mb-10","mt-10"],["src","assets/images/quiz-survey.svg",1,"m-auto"],[1,"text-center","text-xl","mb-10","text-dark-green"],["type","button",1,"rounded","rounded-xl","shadow-md","rounded-full","bg-dark-green","text-white","font-bold","w-full","mt-6","text-center","pt-3","pb-3",3,"click"]],template:function(i,t){1&i&&(n.Pb(0,"div",0),n.mc(1,l,10,0,"ng-container",1),n.Pb(2,"button",2),n.nc(3," Home "),n.Ob(),n.Ob()),2&i&&(n.xb(1),n.bc("ngIf",t.course),n.xb(1),n.bc("routerLink",n.dc(2,c)))},directives:[o.k,s.c],styles:[""]}),i})()}]}];let d=(()=>{class i{}return i.\u0275mod=n.Hb({type:i}),i.\u0275inj=n.Gb({factory:function(t){return new(t||i)},imports:[[s.d.forChild(a)],s.d]}),i})();var v=e("d2mR");let b=(()=>{class i{}return i.\u0275mod=n.Hb({type:i}),i.\u0275inj=n.Gb({factory:function(t){return new(t||i)},imports:[[o.b,d,v.a]]}),i})()}}]);