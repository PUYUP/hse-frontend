(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{DOT7:function(e,t,r){"use strict";r.r(t),r.d(t,"RegisterModule",(function(){return c}));var o=r("ofXK"),i=r("tyNb"),n=r("3Pt+"),a=r("nYR2"),d=r("PSD3"),l=r.n(d),s=r("fXoL"),p=r("Yo9D");const u=[{path:"",component:(()=>{class e{constructor(e,t,r,o){this.formBuilder=e,this._router=t,this._location=r,this._authService=o,this.formGroupBuilder=n.d,this.message="Terjadi kesalahan"}ngOnInit(){this.formGroupBuilder=this.formBuilder.group({first_name:["",[n.n.required]],msisdn:["",[n.n.required]],email:["",[n.n.required]],company:["",[n.n.required]],position:["",[n.n.required]],birthplace:["",[n.n.required]],birthdate:["",[n.n.required]],password:["",[n.n.required]],password2:["",[n.n.required]]})}onSubmit(){const e=this.formGroupBuilder.value,t={first_name:null==e?void 0:e.first_name,username:null==e?void 0:e.msisdn,email:null==e?void 0:e.email,msisdn:null==e?void 0:e.msisdn,password:null==e?void 0:e.password2,role:[{identifier:"learner"}]};this.login_data={username:null==e?void 0:e.email,password:null==e?void 0:e.password2},this.profile_data={company:null==e?void 0:e.company,position:null==e?void 0:e.position,birthplace:null==e?void 0:e.birthplace,birthdate:null==e?void 0:e.birthdate},this.doRegister(t)}doRegister(e){this._authService.doRegister(e).pipe(Object(a.a)(()=>{})).subscribe(e=>{this.doLogin(this.login_data)},e=>{let t=e.error;if("object"==typeof t){let e=[];for(let r in t){let o=t[r];Array.isArray(o)?e.push(("0"!=r?r+": ":"")+o.join(" ")):e.push(("0"!=r?r+": ":"")+o)}this.message=e.join(" ")}else Array.isArray(t)?this.message=t.join(" "):t&&t.detail&&(this.message=t.detail);l.a.fire({title:"",text:this.message,icon:"error",heightAuto:!1,width:285,confirmButtonText:"Kembali"})})}doLogin(e){this._authService.doLogin(e).pipe(Object(a.a)(()=>{})).subscribe(e=>{this.doUpdateProfile(this.profile_data)},e=>{})}doUpdateProfile(e){this._authService.updateProfile(e).pipe(Object(a.a)(()=>{})).subscribe(e=>{this._router.navigate(["home"],{replaceUrl:!0})},e=>{})}back(){this._location.back()}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(n.b),s.Jb(i.b),s.Jb(o.g),s.Jb(p.a))},e.\u0275cmp=s.Db({type:e,selectors:[["app-register"]],decls:27,vars:1,consts:[[1,"p-10","text-white","bg-gradient-1","h-100"],["type","button",1,"button","border-0",3,"click"],[1,"text-lg","font-bold","mt-3"],[1,"pt-6",3,"formGroup","ngSubmit"],[1,"mb-4"],["id","first_name","type","text","placeholder","Nama Lengkap","formControlName","first_name",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-3","px-4","text-white","placeholder-white"],["id","msisdn","type","tel","placeholder","Nomor Handphone","formControlName","msisdn",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-3","px-4","text-white","placeholder-white"],["id","email","type","email","placeholder","Email","formControlName","email",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-3","px-4","text-white","placeholder-white"],["id","company","type","text","placeholder","Nama Perusahaan Dimana Anda Bekerja","formControlName","company",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-3","px-4","text-white","placeholder-white"],["id","position","type","text","placeholder","Jabatan/Spesialisasi Pekerjaan","formControlName","position",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-3","px-4","text-white","placeholder-white"],[1,"flex","w-full"],[1,"mb-4","w-1/2","pr-3"],["id","birthplace","type","text","placeholder","Tempat lahir","formControlName","birthplace",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-3","px-4","text-white","placeholder-white"],[1,"mb-4","w-1/2","pl-3"],["id","birthdate","type","date","placeholder","Tanggal lahir","formControlName","birthdate",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-3","px-4","text-white","placeholder-white"],[1,"mb-6"],["id","password","type","password","placeholder","Buat PIN Anda","formControlName","password",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-3","px-4","text-white","placeholder-white"],["id","password2","type","password","placeholder","Ulangi PIN Anda","formControlName","password2",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-3","px-4","text-white","placeholder-white"],["type","submit",1,"rounded","bg-yellow-500","w-full","mt-6","text-center","pt-4","pb-4","text-white","shadow-md","bg-yellow-green"]],template:function(e,t){1&e&&(s.Pb(0,"div",0),s.Pb(1,"button",1),s.Wb("click",(function(){return t.back()})),s.nc(2,"Back"),s.Ob(),s.Pb(3,"h1",2),s.nc(4,"Daftar Akun"),s.Ob(),s.Pb(5,"form",3),s.Wb("ngSubmit",(function(){return t.onSubmit()})),s.Pb(6,"div",4),s.Kb(7,"input",5),s.Ob(),s.Pb(8,"div",4),s.Kb(9,"input",6),s.Ob(),s.Pb(10,"div",4),s.Kb(11,"input",7),s.Ob(),s.Pb(12,"div",4),s.Kb(13,"input",8),s.Ob(),s.Pb(14,"div",4),s.Kb(15,"input",9),s.Ob(),s.Pb(16,"div",10),s.Pb(17,"div",11),s.Kb(18,"input",12),s.Ob(),s.Pb(19,"div",13),s.Kb(20,"input",14),s.Ob(),s.Ob(),s.Pb(21,"div",15),s.Kb(22,"input",16),s.Ob(),s.Pb(23,"div",15),s.Kb(24,"input",17),s.Ob(),s.Pb(25,"button",18),s.nc(26,"Submit"),s.Ob(),s.Ob(),s.Ob()),2&e&&(s.xb(5),s.bc("formGroup",t.formGroupBuilder))},directives:[n.o,n.k,n.e,n.a,n.j,n.c],styles:[""]}),e})()}];let b=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[i.d.forChild(u)],i.d]}),e})(),c=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[o.b,b,n.f,n.m]]}),e})()}}]);