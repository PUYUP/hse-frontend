(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{DOT7:function(e,t,r){"use strict";r.r(t),r.d(t,"RegisterModule",(function(){return v}));var o=r("ofXK"),n=r("tyNb"),i=r("3Pt+"),a=r("nYR2"),b=r("PSD3"),l=r.n(b),d=r("wd/R"),s=r("fXoL"),p=r("Yo9D"),u=r("tmjD");function c(e,t){if(1&e){const e=s.Qb();s.Nb(0),s.Pb(1,"div",1),s.Pb(2,"button",2),s.Wb("click",(function(){return s.ic(e),s.Yb().back()})),s.nc(3,"Back"),s.Ob(),s.Pb(4,"h1",3),s.nc(5,"Daftar Akun"),s.Ob(),s.Pb(6,"form",4),s.Wb("ngSubmit",(function(){return s.ic(e),s.Yb().onSubmit()})),s.Pb(7,"div",5),s.Kb(8,"input",6),s.Ob(),s.Pb(9,"div",5),s.Kb(10,"input",7),s.Ob(),s.Pb(11,"div",5),s.Kb(12,"input",8),s.Ob(),s.Pb(13,"div",5),s.Kb(14,"input",9),s.Ob(),s.Pb(15,"div",5),s.Kb(16,"input",10),s.Ob(),s.Pb(17,"div",11),s.Pb(18,"div",12),s.Kb(19,"input",13),s.Ob(),s.Pb(20,"div",14),s.Kb(21,"input",15),s.Ob(),s.Ob(),s.Pb(22,"div",16),s.Kb(23,"input",17),s.Ob(),s.Pb(24,"div",16),s.Kb(25,"input",18),s.Ob(),s.Pb(26,"button",19),s.nc(27,"Submit"),s.Ob(),s.Ob(),s.Ob(),s.Mb()}if(2&e){const e=s.Yb();s.xb(6),s.bc("formGroup",e.formGroupBuilder)}}const f=function(){return{"background-image":"url(assets/images/big-bg.svg)","background-size":"cover","background-repeat":"no-repeat","background-position":"bottom"}},m=function(){return{top:"25px",left:"25px"}},h=function(){return{"font-size":"3.5rem","line-height":"1.0"}};function g(e,t){if(1&e){const e=s.Qb();s.Nb(0),s.Pb(1,"div",20),s.Pb(2,"button",21),s.Wb("click",(function(){return s.ic(e),s.Yb().back()})),s.Kb(3,"img",22),s.Ob(),s.Pb(4,"div",23),s.Pb(5,"div",24),s.Pb(6,"form",25),s.Wb("ngSubmit",(function(){return s.ic(e),s.Yb().onSubmit()})),s.Pb(7,"h1",26),s.nc(8,"Daftar Akun"),s.Ob(),s.Pb(9,"div",5),s.Kb(10,"input",27),s.Ob(),s.Pb(11,"div",5),s.Kb(12,"input",28),s.Ob(),s.Pb(13,"div",5),s.Kb(14,"input",29),s.Ob(),s.Pb(15,"div",5),s.Kb(16,"input",30),s.Ob(),s.Pb(17,"div",5),s.Kb(18,"input",31),s.Ob(),s.Pb(19,"div",11),s.Pb(20,"div",12),s.Kb(21,"input",32),s.Ob(),s.Pb(22,"div",14),s.Kb(23,"input",33),s.Ob(),s.Ob(),s.Pb(24,"div",16),s.Kb(25,"input",34),s.Ob(),s.Pb(26,"div",16),s.Kb(27,"input",35),s.Ob(),s.Pb(28,"button",19),s.nc(29,"Submit"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(30,"div",36),s.Pb(31,"div",37),s.Kb(32,"img",38),s.Ob(),s.Pb(33,"div",39),s.Pb(34,"h1",40),s.nc(35," HSE TRAINING ONLINE "),s.Ob(),s.Pb(36,"h4",41),s.nc(37,"PT PERTAMINA TRANS KONTINENTAL"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Mb()}if(2&e){const e=s.Yb();s.xb(1),s.bc("ngStyle",s.dc(4,f)),s.xb(1),s.bc("ngStyle",s.dc(5,m)),s.xb(4),s.bc("formGroup",e.formGroupBuilder),s.xb(28),s.bc("ngStyle",s.dc(6,h))}}const w=[{path:"",component:(()=>{class e{constructor(e,t,r,o){this.formBuilder=e,this._router=t,this._location=r,this._authService=o,this.formGroupBuilder=i.d,this.message="Terjadi kesalahan",this.screenSize=998}onResize(){this.screenSize=window.innerWidth}ngOnInit(){this.screenSize=window.innerWidth,this.formGroupBuilder=this.formBuilder.group({first_name:["",[i.o.required]],msisdn:["",[i.o.required]],email:["",[i.o.required]],company:["",[i.o.required]],position:["",[i.o.required]],birthplace:["",[i.o.required]],birthdate:["",[i.o.required]],password:["",[i.o.required]],password2:["",[i.o.required]]})}onSubmit(){const e=this.formGroupBuilder.value,t={first_name:null==e?void 0:e.first_name,username:null==e?void 0:e.msisdn,email:null==e?void 0:e.email,msisdn:null==e?void 0:e.msisdn,password:null==e?void 0:e.password2,role:[{identifier:"learner"}]};this.login_data={username:null==e?void 0:e.email,password:null==e?void 0:e.password2},this.profile_data={company:null==e?void 0:e.company,position:null==e?void 0:e.position,birthplace:null==e?void 0:e.birthplace,birthdate:d(null==e?void 0:e.birthdate,"DDMMYYYY").format("YYYY-MM-DD")},this.doRegister(t)}doRegister(e){this._authService.doRegister(e).pipe(Object(a.a)(()=>{})).subscribe(e=>{this.doLogin(this.login_data)},e=>{let t=e.error;if("object"==typeof t){let e=[];for(let r in t){let o=t[r];Array.isArray(o)?e.push(("0"!=r?r+": ":"")+o.join(" ")):e.push(("0"!=r?r+": ":"")+o)}this.message=e.join(" ")}else Array.isArray(t)?this.message=t.join(" "):t&&t.detail&&(this.message=t.detail);l.a.mixin({customClass:{confirmButton:"bg-transparent text-green-700 border-0 focus:outline-none"},buttonsStyling:!1}).fire({title:"",text:this.message,icon:"error",heightAuto:!1,width:285,confirmButtonText:"Kembali"})})}doLogin(e){this._authService.doLogin(e).pipe(Object(a.a)(()=>{})).subscribe(e=>{this.doUpdateProfile(this.profile_data)},e=>{})}doUpdateProfile(e){this._authService.updateProfile(e).pipe(Object(a.a)(()=>{})).subscribe(e=>{this._router.navigate(["home"],{replaceUrl:!0})},e=>{})}back(){this._location.back()}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(i.b),s.Jb(n.b),s.Jb(o.g),s.Jb(p.a))},e.\u0275cmp=s.Db({type:e,selectors:[["app-register"]],hostBindings:function(e,t){1&e&&s.Wb("resize",(function(){return t.onResize()}),!1,s.hc)},decls:2,vars:2,consts:[[4,"ngIf"],[1,"p-6","text-white","bg-gradient-1","h-100"],["type","button",1,"button","border-0",3,"click"],[1,"text-lg","font-bold","mt-3"],[1,"pt-6",3,"formGroup","ngSubmit"],[1,"mb-4"],["id","first_name","type","text","placeholder","Nama Lengkap","formControlName","first_name",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-white","placeholder-white"],["id","msisdn","type","tel","placeholder","Nomor Handphone","formControlName","msisdn",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-white","placeholder-white"],["id","email","type","email","placeholder","Email","formControlName","email",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-white","placeholder-white"],["id","company","type","text","placeholder","Nama Perusahaan Dimana Anda Bekerja","formControlName","company",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-white","placeholder-white"],["id","position","type","text","placeholder","Jabatan/Spesialisasi Pekerjaan","formControlName","position",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-white","placeholder-white"],[1,"flex","w-full"],[1,"mb-4","w-1/2","pr-3"],["id","birthplace","type","text","placeholder","Tempat lahir","formControlName","birthplace",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-white","placeholder-white"],[1,"mb-4","w-1/2","pl-3"],["id","birthdate","type","text","placeholder","Tanggal lahir","formControlName","birthdate","mask","00/00/0000",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-white","placeholder-white"],[1,"mb-6"],["id","password","type","password","placeholder","Buat PIN Anda","formControlName","password",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-white","placeholder-white"],["id","password2","type","password","placeholder","Ulangi PIN Anda","formControlName","password2",1,"border","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-white","placeholder-white"],["type","submit",1,"rounded","bg-yellow-500","w-full","mt-6","text-center","pt-3","pb-3","text-white","shadow-md","bg-yellow-green"],[1,"flex","w-full","h-full","justify-items-stretch","bg-gradient-2",3,"ngStyle"],["type","button",1,"button","border-0","absolute","z-10",3,"ngStyle","click"],["src","assets/images/arrow-back-green.svg"],[1,"w-1/3","bg-white","flex","flex-col","items-center","text-dark-green","relative"],[1,"w-4/5","mt-auto","mb-auto"],[1,"pt-6","px-3","mt-auto","mb-auto",3,"formGroup","ngSubmit"],[1,"text-lg","font-bold","mb-5","text-left"],["id","first_name","type","text","placeholder","Nama Lengkap","formControlName","first_name",1,"border","border-gray-600","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-black","placeholder-gray"],["id","msisdn","type","tel","placeholder","Nomor Handphone","formControlName","msisdn",1,"border","border-gray-600","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-black","placeholder-gray"],["id","email","type","email","placeholder","Email","formControlName","email",1,"border","border-gray-600","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-black","placeholder-gray"],["id","company","type","text","placeholder","Nama Perusahaan Dimana Anda Bekerja","formControlName","company",1,"border","border-gray-600","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-black","placeholder-gray"],["id","position","type","text","placeholder","Jabatan/Spesialisasi Pekerjaan","formControlName","position",1,"border","border-gray-600","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-black","placeholder-gray"],["id","birthplace","type","text","placeholder","Tempat lahir","formControlName","birthplace",1,"border","border-gray-600","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-black","placeholder-gray"],["id","birthdate","type","text","placeholder","Tanggal lahir","formControlName","birthdate","mask","00/00/0000",1,"border","border-gray-600","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-black","placeholder-gray"],["id","password","type","password","placeholder","Buat PIN Anda","formControlName","password",1,"border","border-gray-600","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-black","placeholder-gray"],["id","password2","type","password","placeholder","Ulangi PIN Anda","formControlName","password2",1,"border","border-gray-600","focus:outline-none","focus:bg-transparent","bg-transparent","rounded","w-full","py-2","px-3","text-black","placeholder-gray"],[1,"w-2/3","relative"],[1,"absolute","top-0","right-0","z-50"],["src","assets/images/logo-colored.svg"],[1,"pt-16","mt-8","text-center","text-white","z-10","relative"],[1,"text-5xl","font-bold","mt-12","leading-10",3,"ngStyle"],[1,"text-xl","mt-6"]],template:function(e,t){1&e&&(s.mc(0,c,28,1,"ng-container",0),s.mc(1,g,38,7,"ng-container",0)),2&e&&(s.bc("ngIf",t.screenSize<=768),s.xb(1),s.bc("ngIf",t.screenSize>768))},directives:[o.k,i.q,i.k,i.e,i.a,i.j,i.c,u.a,o.l],styles:[""]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[n.d.forChild(w)],n.d]}),e})();const x={validation:!1};let v=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[o.b,y,i.f,i.n,u.b.forRoot(x)]]}),e})()}}]);