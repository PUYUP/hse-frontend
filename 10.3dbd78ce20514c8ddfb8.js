(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{PGrt:function(t,e,i){"use strict";i.r(e),i.d(e,"ProfileModule",(function(){return N}));var o=i("ofXK"),r=i("tyNb"),n=i("nYR2"),l=i("3Pt+"),s=i("wd/R"),b=i("PSD3"),a=i.n(b),c=i("fXoL"),d=i("Yo9D"),u=i("tmjD"),p=i("nbwD");const h=function(t){return["/simulation",t,"survey"]},f=function(){return{"border-color":"#4CA8C1"}};function m(t,e){if(1&t&&(c.Pb(0,"div",11),c.Pb(1,"p",12),c.nc(2),c.Zb(3,"date"),c.Ob(),c.Pb(4,"div",13),c.Pb(5,"div",14),c.Pb(6,"div",15),c.Pb(7,"div",16),c.Pb(8,"div"),c.Pb(9,"p",17),c.nc(10,"Score sebelum menonton video"),c.Ob(),c.Pb(11,"div",18),c.nc(12),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(13,"div",19),c.Pb(14,"div",15),c.Pb(15,"div",16),c.Pb(16,"div"),c.Pb(17,"p",17),c.nc(18,"Score sesudah menonton video"),c.Ob(),c.Pb(19,"div",18),c.nc(20),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&t){const t=e.$implicit;c.bc("routerLink",c.ec(9,h,t.uuid)),c.xb(2),c.oc(c.ac(3,6,t.create_date,"dd/LL/yyyy, hh:mm aa")),c.xb(4),c.bc("ngStyle",c.dc(11,f)),c.xb(6),c.oc(t.quiz_survey_score),c.xb(2),c.bc("ngStyle",c.dc(12,f)),c.xb(6),c.oc(t.quiz_evaluate_score)}}function v(t,e){if(1&t&&(c.Pb(0,"div"),c.mc(1,m,21,13,"div",10),c.Ob()),2&t){const t=e.$implicit;c.xb(1),c.bc("ngForOf",null==t?null:t.simulation)}}const g=function(){return{width:"100px"}};function x(t,e){if(1&t&&(c.Pb(0,"div",3),c.Pb(1,"div",4),c.Pb(2,"div",5),c.Kb(3,"img",6),c.Ob(),c.Ob(),c.Pb(4,"div",7),c.Pb(5,"h4",8),c.nc(6),c.Ob(),c.mc(7,v,2,1,"div",9),c.Ob(),c.Ob()),2&t){const t=e.$implicit;c.xb(1),c.bc("ngStyle",c.dc(4,g)),c.xb(2),c.bc("src",t.course_cover?t.course_cover:"assets/no_image_available.png",c.kc),c.xb(3),c.oc(t.course_label),c.xb(1),c.bc("ngForOf",null==t?null:t.enroll_session)}}function w(t,e){if(1&t&&(c.Nb(0),c.Pb(1,"div",1),c.mc(2,x,8,5,"div",2),c.Ob(),c.Mb()),2&t){const t=c.Yb();c.xb(2),c.bc("ngForOf",t.results)}}let y=(()=>{class t{constructor(t){this._courseService=t,this.enroll=[],this.results=[]}ngOnInit(){this.getEnrolled()}getEnrolled(){this._courseService.getEnrolls().pipe(Object(n.a)(()=>{})).subscribe(t=>{var e;this.enroll=t,this.results=null===(e=this.enroll)||void 0===e?void 0:e.results},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(p.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-enrolled"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"pl-6","pr-6","pb-10"],["class","flex w-full mb-6",4,"ngFor","ngForOf"],[1,"flex","w-full","mb-6"],[1,"relative",3,"ngStyle"],[1,"ratio","ratio-full","relative","rounded-lg","bg-gray-100"],[1,"ratio-image-full","rounded-lg",3,"src"],[1,"pl-3","w-full"],[1,"font-bold","text-dark-green","text-md","mb-5"],[4,"ngFor","ngForOf"],["class","mt-6",3,"routerLink",4,"ngFor","ngForOf"],[1,"mt-6",3,"routerLink"],[1,"text-sm","text-dark-green","mb-2"],[1,"flex","w-full","text-dark-green"],[1,"relative","w-1/2","pr-2"],[1,"ratio","ratio-full","text-center","border","rounded-xl","relative",3,"ngStyle"],[1,"absolute","p-2","flex","items-center","inset-0"],[1,"text-xs","leading-4"],[1,"font-bold","text-4xl"],[1,"relative","w-1/2","pl-2"]],template:function(t,e){1&t&&c.mc(0,w,3,1,"ng-container",0),2&t&&c.bc("ngIf",e.results)},directives:[o.k,o.j,o.l,r.c],pipes:[o.d],styles:[""]}),t})();function O(t,e){if(1&t){const t=c.Qb();c.Nb(0),c.Pb(1,"h1",4),c.nc(2,"Data Akun"),c.Ob(),c.Pb(3,"form",5),c.Wb("ngSubmit",(function(){return c.ic(t),c.Yb().onSubmit()})),c.Pb(4,"div",6),c.Kb(5,"input",7),c.Ob(),c.Pb(6,"div",6),c.Kb(7,"input",8),c.Ob(),c.Pb(8,"div",6),c.Kb(9,"input",9),c.Ob(),c.Pb(10,"div",6),c.Kb(11,"input",10),c.Ob(),c.Pb(12,"div",6),c.Kb(13,"input",11),c.Ob(),c.Pb(14,"div",12),c.Pb(15,"div",13),c.Kb(16,"input",14),c.Ob(),c.Pb(17,"div",15),c.Kb(18,"input",16),c.Ob(),c.Ob(),c.Pb(19,"button",17),c.nc(20,"Update"),c.Ob(),c.Ob(),c.Pb(21,"button",18),c.Wb("click",(function(){return c.ic(t),c.Yb().changePassword()})),c.nc(22,"Ubah PIN"),c.Ob(),c.Mb()}if(2&t){const t=c.Yb();c.xb(3),c.bc("formGroup",t.formGroupBuilder)}}const P=function(){return{"margin-top":"-30px"}};function _(t,e){1&t&&(c.Nb(0),c.Pb(1,"div",19),c.Pb(2,"h3",20),c.nc(3,"Training yang Telah Diikuti"),c.Ob(),c.Kb(4,"app-enrolled"),c.Ob(),c.Mb()),2&t&&(c.xb(1),c.bc("ngStyle",c.dc(1,P)))}const k=function(){return{"padding-bottom":"65px"}},S=[{path:"",component:(()=>{class t{constructor(t,e,i,o){this.formBuilder=t,this._router=e,this._location=i,this._authService=o,this.formGroupBuilder=l.d}ngOnInit(){this.getUser(),this.formGroupBuilder=this.formBuilder.group({first_name:["",[l.o.required]],msisdn:["",[l.o.required]],email:["",[l.o.required]],company:["",[l.o.required]],position:["",[l.o.required]],birthplace:["",[l.o.required]],birthdate:["",[l.o.required]]})}getUser(){this._authService.getUser().pipe(Object(n.a)(()=>{})).subscribe(t=>{var e,i,o,r,n,l,b,a,c;this.user=t,this.account=null===(e=this.user)||void 0===e?void 0:e.account,this.profile=null===(i=this.user)||void 0===i?void 0:i.profile,this.formGroupBuilder.setValue({first_name:null===(o=this.user)||void 0===o?void 0:o.first_name,msisdn:null===(r=this.account)||void 0===r?void 0:r.msisdn,email:null===(n=this.user)||void 0===n?void 0:n.email,company:null===(l=this.profile)||void 0===l?void 0:l.company,position:null===(b=this.profile)||void 0===b?void 0:b.position,birthplace:null===(a=this.profile)||void 0===a?void 0:a.birthplace,birthdate:s(null===(c=this.profile)||void 0===c?void 0:c.birthdate,"YYYY-MM-DD").format("DD/MM/YYYY")})},t=>{})}onSubmit(){var t,e;const i=this.formGroupBuilder.value;this.user_data={email:null==i?void 0:i.email},this.account_data={msisdn:null==i?void 0:i.msisdn},this.profile_data={first_name:null==i?void 0:i.first_name,company:null==i?void 0:i.company,position:null==i?void 0:i.position,birthplace:null==i?void 0:i.birthplace,birthdate:s(null==i?void 0:i.birthdate,"DDMMYYYY").format("YYYY-MM-DD")},(null===(t=this.user)||void 0===t?void 0:t.email)!=(null==i?void 0:i.email)&&this.doUpdateUser(this.user_data),(null===(e=this.account)||void 0===e?void 0:e.msisdn)!=(null==i?void 0:i.msisdn)&&this.doUpdateAccount(this.account_data),this.doUpdateProfile(this.profile_data)}doUpdateProfile(t){this._authService.updateProfile(t).pipe(Object(n.a)(()=>{})).subscribe(t=>{a.a.fire({title:"",text:"Akun berhasil diupate",icon:"success",heightAuto:!1,width:285,confirmButtonText:"Kembali"}),this.profile=t},t=>{})}doUpdateAccount(t){this._authService.updateAccount(t).pipe(Object(n.a)(()=>{})).subscribe(t=>{this.account=t},t=>{})}doUpdateUser(t){this._authService.updateUser(t).pipe(Object(n.a)(()=>{})).subscribe(t=>{this.user=t},t=>{})}changePassword(){var t,e,i,o,r;const n={first_name:null===(t=this.user)||void 0===t?void 0:t.first_name,msisdn:null===(e=this.account)||void 0===e?void 0:e.msisdn,email:null===(i=this.user)||void 0===i?void 0:i.email,birthplace:null===(o=this.profile)||void 0===o?void 0:o.birthplace,birthdate:null===(r=this.profile)||void 0===r?void 0:r.birthdate};sessionStorage.setItem("password_recovery",JSON.stringify(n)),this._router.navigate(["/lost-password","confirm"])}back(){this._location.back()}}return t.\u0275fac=function(e){return new(e||t)(c.Jb(l.b),c.Jb(r.b),c.Jb(o.g),c.Jb(d.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-profile"]],decls:6,vars:4,consts:[[1,"block"],[1,"p-6","pb-12","bg-gradient-2","text-white",3,"ngStyle"],["type","button",1,"button","border-0",3,"click"],[4,"ngIf"],[1,"text-center","font-bold","text-lg"],[1,"pt-6",3,"formGroup","ngSubmit"],[1,"mb-4"],["id","first_name","type","text","placeholder","Nama Lengkap","formControlName","first_name",1,"border-b","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","w-full","py-2","px-3","text-white","placeholder-white"],["id","msisdn","type","tel","placeholder","Nomor Handphone","formControlName","msisdn",1,"border-b","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","w-full","py-2","px-3","text-white","placeholder-white"],["id","email","type","email","placeholder","Email","formControlName","email",1,"border-b","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","w-full","py-2","px-3","text-white","placeholder-white"],["id","company","type","text","placeholder","Nama Perusahaan Dimana Anda Bekerja","formControlName","company",1,"border-b","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","w-full","py-2","px-3","text-white","placeholder-white"],["id","position","type","text","placeholder","Jabatan/Spesialisasi Pekerjaan","formControlName","position",1,"border-b","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","w-full","py-2","px-3","text-white","placeholder-white"],[1,"flex","w-full"],[1,"mb-4","w-1/2","pr-3"],["id","birthplace","type","text","placeholder","Tempat lahir","formControlName","birthplace",1,"border-b","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","w-full","py-2","px-3","text-white","placeholder-white"],[1,"mb-4","w-1/2","pl-3"],["id","birthdate","type","text","placeholder","Tanggal lahir","formControlName","birthdate","mask","00/00/0000",1,"border-b","border-white","focus:outline-none","focus:bg-transparent","bg-transparent","w-full","py-2","px-3","text-white","placeholder-white"],["type","submit",1,"rounded","bg-yellow-green","shadow-md","w-full","mt-6","text-center","pt-3","pb-3"],["type","button",1,"rounded","bg-dark-green","shadow-md","w-full","mt-6","text-center","pt-3","pb-3",3,"click"],[1,"rounded-t-3xl","bg-white","pt-8",3,"ngStyle"],[1,"text-center","font-bold","text-xl","mb-5","text-dark-green"]],template:function(t,e){1&t&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"button",2),c.Wb("click",(function(){return e.back()})),c.nc(3,"Back"),c.Ob(),c.mc(4,O,23,1,"ng-container",3),c.Ob(),c.mc(5,_,5,2,"ng-container",3),c.Ob()),2&t&&(c.xb(1),c.bc("ngStyle",c.dc(3,k)),c.xb(3),c.bc("ngIf",e.user),c.xb(1),c.bc("ngIf",e.user))},directives:[o.l,o.k,l.q,l.k,l.e,l.a,l.j,l.c,u.a,y],styles:[""]}),t})()}];let Y=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[r.d.forChild(S)],r.d]}),t})();const D={validation:!1};let N=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[o.b,Y,r.d,l.f,l.n,u.b.forRoot(D)]]}),t})()}}]);